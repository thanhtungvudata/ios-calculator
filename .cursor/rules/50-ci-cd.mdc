---
description: "CI contract (GitHub Actions/Azure Pipelines), pre-commit, tests"
globs: [".github/workflows/*.yml", "azure-pipelines.yml"]
alwaysApply: false
---

## CI expectations
- Install via `uv sync --all-extras --dev`.
- Lint: `ruff check .` & `ruff format --check .` then `black --check .`
- Tests: `pytest -q` with coverage report; fail build if below threshold.

## Release hygiene
- YOU MUST tag using SemVer; build from `main` ONLY.
- For infra, YOU SHOULD compose a plan (e.g., `sam build && sam deploy --no-confirm-changeset` preview) BEFORE apply.