---
description: "Python style contract (Ruff + Black + mypy, pyproject.toml-driven)"
globs: ["src/**/*.py", "tests/**/*.py", "notebooks/**/*.ipynb"]
alwaysApply: false
---

## Style & typing
- YOU MUST lint with **Ruff** (rules: E,F,I,B,UP,D; ignore D203,D212).
- YOU MUST use type hints everywhere; public functions MUST have FULL signatures AND return types.
- YOU MUST docstrings: one-liner summary + param/return notes where given functionality is non-trivial, non-vacuous.

## Structure
- Source lives in `src/`; tests mirror structure in `tests/`.
- Config is TOML/YAML; **no secrets** in repo (see @40-aws-security-secrets.mdc).

## Tooling expectations
- `pyproject.toml` is the SINGLE SOURCE OF TRUTH for tooling config (ruff, black, mypy, pytest).
- Pre-commit runs ruff (fix), ruff-format, black, then tests.

## Examples
- YOU SHOULD prefer composing small, pure functions; YOU SHOULD isolate IO.
- YOU SHOULD fail fast: raise SPECIFIC exceptions; log context via a common logger.