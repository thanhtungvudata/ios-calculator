<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator - Technology Validation</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background-color: #2C2C2E;
            color: white;
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        
        .calculator {
            background-color: #1C1C1E;
            padding: 20px;
            border-radius: 20px;
            width: 300px;
        }
        
        .display {
            background-color: #1C1C1E;
            color: white;
            font-size: 48px;
            text-align: right;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 10px;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: flex-end;
        }
        
        .buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
        }
        
        button {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: none;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .number {
            background-color: #505050;
            color: white;
        }
        
        .operation {
            background-color: #FF9500;
            color: white;
        }
        
        .function {
            background-color: #A6A6A6;
            color: black;
        }
        
        button:hover {
            transform: scale(1.05);
        }
        
        button:active {
            transform: scale(0.95);
        }
        
        .zero {
            grid-column: span 2;
            border-radius: 30px;
            width: auto;
        }
    </style>
</head>
<body>
    <div class="calculator">
        <div class="display" id="display">0</div>
        <div class="buttons">
            <button class="function" onclick="clearAll()">AC</button>
            <button class="function" onclick="toggleSign()">+/-</button>
            <button class="function" onclick="percentage()">%</button>
            <button class="operation" onclick="setOperation('÷')">÷</button>
            
            <button class="number" onclick="inputNumber('7')">7</button>
            <button class="number" onclick="inputNumber('8')">8</button>
            <button class="number" onclick="inputNumber('9')">9</button>
            <button class="operation" onclick="setOperation('×')">×</button>
            
            <button class="number" onclick="inputNumber('4')">4</button>
            <button class="number" onclick="inputNumber('5')">5</button>
            <button class="number" onclick="inputNumber('6')">6</button>
            <button class="operation" onclick="setOperation('-')">-</button>
            
            <button class="number" onclick="inputNumber('1')">1</button>
            <button class="number" onclick="inputNumber('2')">2</button>
            <button class="number" onclick="inputNumber('3')">3</button>
            <button class="operation" onclick="setOperation('+')">+</button>
            
            <button class="number zero" onclick="inputNumber('0')">0</button>
            <button class="number" onclick="inputDecimal()">.</button>
            <button class="operation" onclick="calculate()">=</button>
        </div>
    </div>

    <script>
        // Simple calculator logic for technology validation
        let display = document.getElementById('display');
        let currentValue = '0';
        let previousValue = null;
        let operation = null;
        let waitingForOperand = false;

        function updateDisplay() {
            display.textContent = currentValue;
        }

        function inputNumber(num) {
            if (waitingForOperand) {
                currentValue = num;
                waitingForOperand = false;
            } else {
                currentValue = currentValue === '0' ? num : currentValue + num;
            }
            updateDisplay();
        }

        function inputDecimal() {
            if (waitingForOperand) {
                currentValue = '0.';
                waitingForOperand = false;
            } else if (currentValue.indexOf('.') === -1) {
                currentValue += '.';
            }
            updateDisplay();
        }

        function clearAll() {
            currentValue = '0';
            previousValue = null;
            operation = null;
            waitingForOperand = false;
            updateDisplay();
        }

        function setOperation(nextOperation) {
            const inputValue = parseFloat(currentValue);

            if (previousValue === null) {
                previousValue = inputValue;
            } else if (operation) {
                const result = performCalculation();
                currentValue = String(result);
                previousValue = result;
                updateDisplay();
            }

            waitingForOperand = true;
            operation = nextOperation;
        }

        function calculate() {
            const inputValue = parseFloat(currentValue);

            if (previousValue !== null && operation) {
                const result = performCalculation();
                currentValue = String(result);
                previousValue = null;
                operation = null;
                waitingForOperand = true;
                updateDisplay();
            }
        }

        function performCalculation() {
            const prev = previousValue;
            const current = parseFloat(currentValue);

            switch (operation) {
                case '+': return prev + current;
                case '-': return prev - current;
                case '×': return prev * current;
                case '÷': return current !== 0 ? prev / current : 0;
                default: return current;
            }
        }

        function toggleSign() {
            currentValue = String(-parseFloat(currentValue));
            updateDisplay();
        }

        function percentage() {
            currentValue = String(parseFloat(currentValue) / 100);
            updateDisplay();
        }

        // Validate ES6+ features work
        console.log('✅ Technology Validation: ES6+ features working');
        console.log('✅ Technology Validation: CSS Grid layout working');
        console.log('✅ Technology Validation: Modern CSS features working');
        console.log('✅ Technology Validation: DOM manipulation working');
    </script>
</body>
</html>
